#!/bin/bash

#
# firmdl: Downloads firmware to the RCX
#
# 12/12/02  created L. Griffiths


if [ -z "$LEJOS_HOME" ]; then 
  LEJOS_HOME="$(dirname $(dirname $0))"
fi

export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$LEJOS_HOME/bin
export LD_PRELOAD=$LEJOS_HOME/bin/libirtrcx.so

if [ $OSTYPE == "cygwin" ]; then
  SEP=";"
else
  SEP=":"
fi

java -Djava.library.path="$LEJOS_HOME/bin" -classpath "$LEJOS_HOME/lib/commons-cli-1.0.jar$SEP$LEJOS_HOME/lib/jtools.jar$SEP$LEJOS_HOME/lib/pcrcxcomm.jar" js.tools.Firmdl --tty ${RCXTTY:-usb} "$@"

